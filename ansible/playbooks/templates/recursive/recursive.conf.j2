options {
  directory "/var/cache/bind";

  listen-on port 53 { any; };

  allow-query { any; };
  allow-recursion { localhost; {{ subnet_cidr }}; };

  allow-transfer { none; };
  allow-update { none; };

  recursion yes;
  auth-nxdomain no;
  dnssec-validation no;
};

zone "{{ root_zone }}" {
  type hint;
  file "{{ zones_path }}/db.root.hints";
};

zone "localhost" {
  type master;
  file "{{ zones_path }}/db.local";
};

zone "0.in-addr.arpa" {
  type master;
  file "{{ zones_path }}/db.0";
};

zone "127.in-addr.arpa" {
  type master;
  file "{{ zones_path }}/db.127";
};

zone "255.in-addr.arpa" {
  type master;
  file "{{ zones_path }}/db.255";
};